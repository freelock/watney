var sdk = require("matrix-js-sdk");
var myUserId = "@matthew:matrix.org";
var myAccessToken = "MDAxOGxvY2F0aW9uIG1hdHJpeC5vcmcKMDAxM2lkZW50aWZpZXIga2V5CjAwMTBjaWQgZ2VuID0gMQowMDI2Y2lkIHVzZXJfaWQgPSBAbWF0dGhldzptYXRyaXgub3JnCjAwMTZjaWQgdHlwZSA9IGFjY2VzcwowMDFkY2lkIHRpbWUgPCAxNDQ1NTY2MzI3NDQ1CjAwMmZzaWduYXR1cmUg_Aw4CTLDk1LaoPlgTXWx6iRQX4KQzJSfALNzhPJQC9gK";
var matrixClient = sdk.createClient({
   baseUrl: "https://matrix.org",
   accessToken: myAccessToken,
   userId: myUserId
});

matrixClient.on("syncComplete", function() {
    var room = matrixClient.getRoom('!cURbafjkfsMDVwdRDQ:matrix.org');
    var state = room.currentState;
    var topic = state.getStateEvents('m.room.topic')[0];
    console.log(topic.getContent().topic);
}, function(e) {
    console.error(e);
});

matrixClient.startClient();